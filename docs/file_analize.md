# Описание функции file_analize

Функция file_analize написана на языке C и предназначена для использования в PHP через специализированное расширение Fast_IO. 
Функция анализирует текстовый файл и определяет максимальную длину строки в этом файле. 
Это может быть особенно полезно для форматирования вывода или оптимизации обработки текстовых данных.


Функция открывает указанный текстовый файл, последовательно читает его содержимое и вычисляет длину каждой строки. В результате работы функция возвращает длину самой длинной найденной строки.

### Синтаксис

int file_analize(string $filename [, int mode = 0])


#### Параметры

- **filename**: Путь к текстовому файлу, который необходимо проанализировать.
- **int** (int, optional): Режим анализа.

## Возвращаемые значения

- В режиме 0 - максимальную длину строки в файле.
- В режиме 1 - среднюю длину строки в файле.
- В режиме 2 - длину первой строки в файле.
- В режиме 3 - количество строк в файле. 

- Возвращает -1, если не удалось открыть файл.
- Возвращает -2, если не удалось заблокировать файл.
- Возвращает -8, если произошла ошибка выделения памяти.
 

### Ошибки/Исключения

Генерирует предупреждение, если файл, указанный в параметре filename, не удаётся открыть или заблокировать для чтения.

### Примеры

#### Пример #1 Базовое использование detect_align_size
```
<?php
$filename = "example.txt";
$maxLineLength = file_analize($filename);

if ($maxLineLength !== FALSE) {
    echo "Самая длинная строка содержит $maxLineLength символов.";
} else {
    echo "Произошла ошибка.";
}
?>
```

#### Пример #2 Обработка ошибок
```
<?php
$filename = "non_existent_file.txt";
$maxLineLength = file_analize($filename);

if ($maxLineLength === FALSE) {
    echo "Не удалось обработать файл. Пожалуйста, проверьте, существует ли файл и доступен ли он для чтения.";
} else {
    echo "Самая длинная строка содержит $maxLineLength символов.";
}
?>

```


### Примечания

- Если последняя строка файла не заканчивается символом перевода строки, её длина всё равно корректно учитывается.
- Функция использует эксклюзивную блокировку файла во время обработки, чтобы предотвратить одновременные изменения.


## Стоимость вызова

- CPU Bound - Заполнение буфера и полнотекстовый поиск каждой строки.
- IO Bound - Посекторное чтение файла в буфер.

Среднее потребление, чтение всего файла.

