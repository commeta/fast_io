## Описание

Функция update_key_value_pair предназначена для обновления значения по заданному ключу в файле, где каждая строка представляет собой пару ключ-значение, разделённые пробелом. 
Эта функция особенно полезна для работы с простыми системами хранения на основе файлов. 
Если ключ найден, его значение обновляется. Функция написана на языке C и доступна в PHP через расширение Fast_IO.

## Параметры

- filename: Имя файла, в котором нужно обновить пару ключ-значение.
- index_key: Ключ, значение которого требуется обновить.
- index_value: Новое значение, ассоциированное с указанным ключом.

## Возвращаемые значения

- Возвращает 1, если обновление пары ключ-значение прошло успешно.
- Возвращает -1, если файл, указанный в параметре filename, не удаётся открыть.
- Возвращает -2, если не удаётся создать или открыть временный файл.
- Возвращает -3, если не удаётся заблокировать файлы для безопасной операции чтения/записи.
- Возвращает -4, если возникает ошибка при работе с потоками файлов.

## Пример использования в PHP

Предполагается, что данная функция экспортирована в PHP через расширение. Ниже приведён пример её вызова:
```
<?php

// Предполагаем, что функция экспортирована как update_key_value_pair()

$filename = "path/to/your/file.txt";
$key = "sampleKey";
$newValue = "updatedValue";

$result = update_key_value_pair($filename, $key, $newValue);

if ($result == 1) {
    echo "Пара ключ-значение успешно обновлена.\n";
} else {
    echo "Не удалось обновить пару ключ-значение. Код ошибки: $result\n";
}

?>
```

В этом примере указывается путь к файлу с парами ключ-значение ($filename), ключ, значение которого нужно обновить ($key), и новое значение, ассоциированное с этим ключом ($newValue). После вызова функции проверяется возвращаемое значение, чтобы определить, была ли операция успешной.

## Примечания

- Функция работает непосредственно с файловой системой, поэтому убедитесь, что процесс PHP имеет необходимые права для чтения из файла и записи в файл.
- Важно корректно обрабатывать различные возвращаемые значения для понимания результата операции и предпринятия соответствующих действий в случае ошибок.
- Поскольку функция включает операции с файлами, стоит учитывать её влияние на производительность, особенно при работе с большими файлами или в сценариях с высокой частотой вызовов.

## Заключение

Функция update_key_value_pair предоставляет простой способ управления парами ключ-значение, хранящимися в файлах, непосредственно из PHP. Понимая её параметры, возвращаемые значения и правильное использование, разработчики могут эффективно интегрировать хранение данных на основе файлов в свои PHP-приложения.
