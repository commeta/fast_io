# Описание функции file_select_array

Функция file_select_array предназначена для извлечения строк из текстового файла, осуществляет множественные запросы основываясь на данных косвенной адресации (смещение, размер).

Эта функция реализована на языке C и доступна в PHP через Fast_IO специальное расширение.


Функция file_select_array перебирает массив адресов переданный в параметрах вызова. Извлекает из массива смещение offset и размер size. 
Далее происходит чтение указанного блока из файла, и добавление в результирующий массив.


## Синтаксис

array file_select_array(string $filename, array $addresses[, int mode = 0])

### Параметры

- **filename** (string): Путь к файлу, из которого необходимо извлечь ключи.
- **addresses** - Массив адресов строк.
- **mode** (int, optional) - Режим.


#### Режимы
- 0: Обрезка пробелов справа и символа перевода строки.
- 1: Возврат сырой строки.
- +100 Log mode: Если добавить +100 к любому из вышеперечисленных режимов, функция пересчитает режим mode -= 100 но не будет блокировать файл.

Режимы +100 Log mode подходят для работы с файлами журналов.


## Примеры использования

```
for($i=0; $i <=500; $i++){
	print_r(
		file_insert_line(__DIR__ . '/fast_io1.dat', 'index_' . $i . ' file_insert_line_' . $i . ' ' . str_pad('', 92, '1234567890'), 8192) . ', '
	);
}

$array=[[8192,8192],[16384,8192],[24576,8192]];
print_r([
	file_select_array(__DIR__ . '/fast_io1.dat', $array, 0)
]);
```


```
Array
(
    [0] => Array
        (
            [0] => Array
                (
                    [line] => index_1 file_insert_line_1 12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012
                    [offset] => 8192
                    [length] => 8192
                    [add_count] => 0
                )

            [1] => Array
                (
                    [line] => index_2 file_insert_line_2 12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012
                    [offset] => 16384
                    [length] => 8192
                    [add_count] => 1
                )

            [2] => Array
                (
                    [line] => index_3 file_insert_line_3 12345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012
                    [offset] => 24576
                    [length] => 8192
                    [add_count] => 2
                )

        )

)

```



